# Lab 2 SQL Injection Bypass Web Application Firewall Via Cookie

## 0x00 Lab Site

Lab site from [zkaq.org][1]

## 0x01 Go Hack It

### Main Page

![](./imgs/0_index.jpg)

### News

It also has a news page with parameter **id**=171

![](./imgs/1_news.jpg)

### Get Inject Point

Tried with 1=1, shows with WAF.

```sql
?id=171 AND 1=1
```

![](./imgs/2_waf.jpg)

But it still works with **ORDER BY**

```sql
?id=171 ORDER BY 10
```

![](./imgs/3_order.jpg)

10 works but 11 causes error.

![](./imgs/3_order_err.jpg)

### Modheader

![](./imgs/4_select.jpg)

![](./imgs/4_select_result.jpg)

![](./imgs/5_dump_pwd.jpg)

![](./imgs/5_dump_result.jpg)

![](./imgs/6_cmd5.jpg)

![](./imgs/7_admin_login.jpg)

![](./imgs/8_flag.jpg)


[1]: https://hack.zkaq.org/?a=battle&f=target&id=31ac789a52edf9bb